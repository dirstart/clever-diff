# ğŸš€ Mock æœåŠ¡å®Œæ•´è§£å†³æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†ä¸€ä¸ªç»“æ„æ¸…æ™°ã€åŠŸèƒ½å®Œæ•´çš„ Mock æœåŠ¡è§£å†³æ–¹æ¡ˆã€‚è¿™ä¸ªæ–¹æ¡ˆåŸºäº `vite-plugin-mock` å’Œ `mockjs`ï¼Œæä¾›äº†éä¾µå…¥å¼çš„ API æ¨¡æ‹ŸæœåŠ¡ã€‚

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
clever-diff/
â”œâ”€â”€ mock/                          # Mock æœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ index.js                   # Mock æœåŠ¡å…¥å£
â”‚   â”œâ”€â”€ prod-server.js             # ç”Ÿäº§ç¯å¢ƒ Mock æœåŠ¡å™¨
â”‚   â”œâ”€â”€ README.md                  # è¯¦ç»†æ–‡æ¡£
â”‚   â”œâ”€â”€ test.js                    # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.js               # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ data/                      # Mock æ•°æ®
â”‚   â”‚   â”œâ”€â”€ user.js                # ç”¨æˆ·æ•°æ®
â”‚   â”‚   â””â”€â”€ product.js             # äº§å“æ•°æ®
â”‚   â””â”€â”€ handlers/                  # API å¤„ç†å™¨
â”‚       â”œâ”€â”€ user.js                # ç”¨æˆ·ç›¸å…³ API
â”‚       â”œâ”€â”€ product.js             # äº§å“ç›¸å…³ API
â”‚       â”œâ”€â”€ auth.js                # è®¤è¯ç›¸å…³ API
â”‚       â””â”€â”€ common.js              # é€šç”¨åŠŸèƒ½ API
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/index.js               # ç°æœ‰çš„ API æœåŠ¡
â”‚   â”œâ”€â”€ App.vue                    # ä¸»åº”ç”¨ï¼ˆå·²é›†æˆ Mock ç¤ºä¾‹ï¼‰
â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ MockExample.vue        # Mock ä½¿ç”¨ç¤ºä¾‹ç»„ä»¶
â”œâ”€â”€ vite.config.js                 # Vite é…ç½®ï¼ˆå·²ä¼˜åŒ–ï¼‰
â””â”€â”€ package.json                   # é¡¹ç›®ä¾èµ–
```

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ éä¾µå…¥å¼è®¾è®¡
- ç‹¬ç«‹çš„ `mock/` æ–‡ä»¶å¤¹ï¼Œä¸å½±å“ä¸šåŠ¡ä»£ç 
- å¼€å‘ç¯å¢ƒè‡ªåŠ¨å¯ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨ç¦ç”¨
- æ”¯æŒçƒ­æ›´æ–°ï¼Œå®æ—¶æŸ¥çœ‹è¯·æ±‚æ—¥å¿—

### ğŸ“Š å®Œæ•´çš„æ•°æ®ç®¡ç†
- **ç”¨æˆ·ç®¡ç†**: 50+ ç”¨æˆ·æ•°æ®ï¼Œæ”¯æŒå¢åˆ æ”¹æŸ¥
- **äº§å“ç®¡ç†**: 100+ äº§å“æ•°æ®ï¼Œæ”¯æŒæœç´¢è¿‡æ»¤
- **è®¤è¯ç³»ç»Ÿ**: å®Œæ•´çš„ç™»å½•ã€æƒé™éªŒè¯æµç¨‹
- **é€šç”¨åŠŸèƒ½**: æ–‡ä»¶ä¸Šä¼ ã€ç»Ÿè®¡æ•°æ®ã€ç³»ç»Ÿé…ç½®ç­‰

### ğŸ”§ å¼€å‘å‹å¥½
- ç»Ÿä¸€çš„å“åº”æ ¼å¼å’Œé”™è¯¯å¤„ç†
- æ¨¡æ‹ŸçœŸå®çš„ç½‘ç»œå»¶è¿Ÿ
- æ”¯æŒåˆ†é¡µã€æœç´¢ã€è¿‡æ»¤åŠŸèƒ½
- å®Œæ•´çš„ TypeScript æ”¯æŒï¼ˆå¯é€‰ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### 2. æµ‹è¯• Mock API
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`ï¼Œæ‚¨å°†çœ‹åˆ°ï¼š
- ç”¨æˆ·åˆ—è¡¨å±•ç¤º
- äº§å“åˆ—è¡¨å±•ç¤º
- ç»Ÿè®¡æ•°æ®å±•ç¤º
- ç™»å½•åŠŸèƒ½æµ‹è¯•

### 3. æµ‹è¯•è´¦å·
```
ç”¨æˆ·å: admin
å¯†ç : 123456
è§’è‰²: admin

ç”¨æˆ·å: user1
å¯†ç : 123456
è§’è‰²: user
```

## ğŸ“¡ API æ¥å£åˆ—è¡¨

### ç”¨æˆ·ç®¡ç† (`/api/users`)
- `GET /api/users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€è¿‡æ»¤ï¼‰
- `GET /api/users/:id` - è·å–ç”¨æˆ·è¯¦æƒ…
- `POST /api/users` - åˆ›å»ºç”¨æˆ·
- `PUT /api/users/:id` - æ›´æ–°ç”¨æˆ·
- `DELETE /api/users/:id` - åˆ é™¤ç”¨æˆ·

### äº§å“ç®¡ç† (`/api/products`)
- `GET /api/products` - è·å–äº§å“åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€æœç´¢ã€è¿‡æ»¤ï¼‰
- `GET /api/products/:id` - è·å–äº§å“è¯¦æƒ…
- `GET /api/products/search` - æœç´¢äº§å“
- `POST /api/products` - åˆ›å»ºäº§å“
- `PUT /api/products/:id` - æ›´æ–°äº§å“
- `DELETE /api/products/:id` - åˆ é™¤äº§å“

### è®¤è¯ç³»ç»Ÿ (`/api/auth`)
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/auth/userinfo` - è·å–ç”¨æˆ·ä¿¡æ¯
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `POST /api/auth/refresh` - åˆ·æ–° token
- `POST /api/auth/change-password` - ä¿®æ”¹å¯†ç 

### é€šç”¨åŠŸèƒ½ (`/api/*`)
- `POST /api/upload` - æ–‡ä»¶ä¸Šä¼ 
- `GET /api/dashboard/stats` - è·å–ç»Ÿè®¡æ•°æ®
- `GET /api/config` - è·å–ç³»ç»Ÿé…ç½®
- `GET /api/logs` - è·å–ç³»ç»Ÿæ—¥å¿—
- `GET /api/health` - å¥åº·æ£€æŸ¥
- `GET /api/system/info` - è·å–ç³»ç»Ÿä¿¡æ¯

## ğŸ› ï¸ ä½¿ç”¨ç¤ºä¾‹

### åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨
```javascript
import { userApi, productApi, authApi } from './api/index.js'

// è·å–ç”¨æˆ·åˆ—è¡¨
const users = await userApi.getUsers({ page: 1, pageSize: 10 })

// ç”¨æˆ·ç™»å½•
const loginResult = await authApi.login({
  username: 'admin',
  password: '123456'
})

// è·å–äº§å“åˆ—è¡¨
const products = await productApi.getProducts({ category: 'ç”µå­äº§å“' })
```

### å“åº”æ ¼å¼
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "list": [...],
    "pagination": {
      "page": 1,
      "pageSize": 10,
      "total": 100,
      "totalPages": 10
    }
  },
  "timestamp": 1640995200000
}
```

## ğŸ”§ é…ç½®è¯´æ˜

### Vite é…ç½®
```javascript
// vite.config.js
viteMockServe({
  mockPath: 'mock',           // mock æ–‡ä»¶ç›®å½•
  enable: true,               // æ˜¯å¦å¯ç”¨
  watchFiles: true,           // ç›‘å¬æ–‡ä»¶å˜åŒ–
  logger: true,               // æ˜¾ç¤ºè¯·æ±‚æ—¥å¿—
  supportTs: false,           // æ˜¯å¦æ”¯æŒ TypeScript
  localEnabled: true,         // æœ¬åœ°å¼€å‘ç¯å¢ƒå¯ç”¨
  prodEnabled: false,         // ç”Ÿäº§ç¯å¢ƒç¦ç”¨
})
```

## ğŸ“š æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„ API æ¥å£
1. åœ¨ `mock/data/` ç›®å½•ä¸‹åˆ›å»ºæ•°æ®æ–‡ä»¶
2. åœ¨ `mock/handlers/` ç›®å½•ä¸‹åˆ›å»ºå¤„ç†å™¨æ–‡ä»¶
3. åœ¨ `mock/index.js` ä¸­å¯¼å…¥å¹¶æ³¨å†Œ

### è‡ªå®šä¹‰å·¥å…·å‡½æ•°
åœ¨ `mock/utils/index.js` ä¸­æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°ã€‚

### æ•°æ®æŒä¹…åŒ–
å½“å‰ä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œå¦‚éœ€æŒä¹…åŒ–å¯ä»¥ï¼š
- ä½¿ç”¨ localStorage å­˜å‚¨åˆ°æµè§ˆå™¨
- é›†æˆçœŸå®çš„åç«¯æ•°æ®åº“
- ä½¿ç”¨ JSON æ–‡ä»¶å­˜å‚¨

## ğŸ‰ æ€»ç»“

è¿™ä¸ª Mock è§£å†³æ–¹æ¡ˆæä¾›äº†ï¼š

âœ… **å®Œæ•´çš„ API æ¨¡æ‹ŸæœåŠ¡**  
âœ… **ç»“æ„æ¸…æ™°çš„ä»£ç ç»„ç»‡**  
âœ… **éä¾µå…¥å¼çš„è®¾è®¡ç†å¿µ**  
âœ… **å¼€å‘å‹å¥½çš„åŠŸèƒ½ç‰¹æ€§**  
âœ… **è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹**  
âœ… **æ˜“äºæ‰©å±•å’Œç»´æŠ¤**  

ç°åœ¨æ‚¨å¯ä»¥ï¼š
1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š`npm run dev`
2. è®¿é—® `http://localhost:3000` æŸ¥çœ‹æ•ˆæœ
3. åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹ Mock è¯·æ±‚æ—¥å¿—
4. æ ¹æ®éœ€è¦æ‰©å±•å’Œè‡ªå®šä¹‰ Mock æœåŠ¡

è¿™ä¸ªæ–¹æ¡ˆå°†å¤§å¤§æé«˜æ‚¨çš„å¼€å‘æ•ˆç‡ï¼Œè®©æ‚¨èƒ½å¤Ÿä¸“æ³¨äºå‰ç«¯ä¸šåŠ¡é€»è¾‘çš„å¼€å‘ï¼
